

<head>
<link href="css/custom.css" rel="stylesheet">
<title>Ninja1</title>
    <script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Open+Sans+Condensed:300,700,300italic' rel='stylesheet' type='text/css'>
    <script>
        $( function() {   
            // Edit these values first! The externalURL variable should be the
            // unique URL of your agent. e.g. the last part of:
            // https://agent.electricimp.com/UpyYpRLmBB7m
            // pollRate defines how often the values on your page will refresh.
            var externalURL ="SOSRwqUnELAt";
            var pollRate ="5";

            function poll(){
                // Construct an ajax() GET request.
                // http://www.w3schools.com/jquery/ajax_ajax.asp

                $.ajax({
                    type: "get",
                    url: "https://agent.electricimp.com/"+externalURL,  // URL of our imp agent.
                    dataType: "json",   // Expect JSON-formatted response from agent.
                    success: function(agentMsg) {   // Function to run when request succeeds.

                        // jQuery find "pin1" id and overwrite its data with "pin1" key value in agentMsg            
                        $("#x").html(agentMsg.x);
                        $("#y").html(agentMsg.y);
                        $("#z").html(agentMsg.z);
                        $("#change").html(agentMsg.change);

                        updateBG(agentMsg.change, agentMsg.x, agentMsg.z);    // Try this if you have a photocell connected to pin 5
                    },
                    error: function(err) {
                        console.log("err"+ err.status)
                    }
                });
            }
            
            // setInterval is Javascript method to call a function at a specified interval.
            // http://www.w3schools.com/jsref/met_win_setinterval.asp
            setInterval(function(){ poll(); }, pollRate);

            // This function updates the 
            function updateBG(change,x,z)
            {
// 				console.log(change);
                if (change >= 10)
                {
                    document.getElementById("blog").innerHTML = "Shake It!";
                    document.getElementById("blog").style.position = "absolute";
                    document.getElementById("blog").style.top = "100px";
                    document.getElementById("blog").style.left = "750px";
                    document.getElementById("blog").style.fontFamily = 'Open Sans Condensed';
                    document.getElementById("blog").style.fontSize = '3em';
                    
                }
                if (change < 10)
                {
                    document.getElementById("blog").innerHTML = "Sleepy";
                    document.getElementById("blog").style.position = "absolute";
                    document.getElementById("blog").style.top = "100px";
                    document.getElementById("blog").style.left = "750px";
                    document.getElementById("blog").style.fontFamily = 'Open Sans Condensed';
                    document.getElementById("blog").style.fontSize = '3em';
                }
                 if (x >= 0)
                {
                    document.getElementById("blog2").innerHTML = "Slide!";
                    document.getElementById("blog2").style.position = "absolute";
                    document.getElementById("blog2").style.top = "150px";
                    document.getElementById("blog2").style.left = "750px";
                    document.getElementById("blog2").style.fontFamily = 'Open Sans Condensed';
                    document.getElementById("blog2").style.fontSize = '3em';
                    
                }
                if (x<0)
                {
                    document.getElementById("blog2").innerHTML = "shift";
                    document.getElementById("blog2").style.position = "absolute";
                    document.getElementById("blog2").style.top = "150px";
                    document.getElementById("blog2").style.left = "750px";
                    document.getElementById("blog2").style.fontFamily = 'Open Sans Condensed';
                    document.getElementById("blog2").style.fontSize = '3em';
                }
                if (z >= 0)
                {
                    document.getElementById("blog3").innerHTML = "up";
                    document.getElementById("blog3").style.position = "absolute";
                    document.getElementById("blog3").style.top = "200px";
                    document.getElementById("blog3").style.left = "750px";
                    document.getElementById("blog3").style.fontFamily = 'Open Sans Condensed';
                    document.getElementById("blog3").style.fontSize = '3em';
                    
                }
                if (z<0)
                {
                    document.getElementById("blog3").innerHTML = "down";
                    document.getElementById("blog3").style.position = "absolute";
                    document.getElementById("blog3").style.top = "200px";
                    document.getElementById("blog3").style.left = "750px";
                    document.getElementById("blog3").style.fontFamily = 'Open Sans Condensed';
                    document.getElementById("blog3").style.fontSize = '3em';
                }
            }
        });
    </script>
    <style>
    blog {
    	position:absolute;
    	top:200px;
    	height:200px;
    	background:#999;
    	font-family: 'Open Sans Condensed', sans-serif;
    }
    </style>
    </head>
<body>
<table id="wrapper">
<tr>
<td>
<img class="main-image" src="img/ninja1.svg">
</td>
<td>
<div id="blog"></div>
</td>
<td>
<div id="blog2"></div>
</td>
<td>
<div id="blog3"></div>
</td>
</tr>
</table>

</html>
